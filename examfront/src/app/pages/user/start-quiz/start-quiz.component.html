<div class="bootstrap-wrapper" *ngIf="!isSubmit">
    <div class="container-fluid">
        <div class="row">


            <div class="col-md-2">
                <!-- Instructions -->
                <h3>Instructions</h3>

            </div>
            <div class="col-md-8">
                <!-- questions -->
                <ng-container *ngIf="questions">
                    <h1> On Going quiz {{questions[0].quiz.quizName}}</h1>
                    <mat-card *ngFor="let q of questions;let i=index" class="mt10">

                        <mat-card-content>
                            <p>Q.{{i+1 }} <span class="ml10">{{q.content}}</span> </p>

                        </mat-card-content>
                        <mat-divider></mat-divider>
                        <div class="row">


                            <mat-radio-group [(ngModel)]="q.selectedAnswer">
                                <div class="col-md-12 mt10 ml10" *ngIf="q.options[0].option">
                                    <mat-radio-button name="name{{i}}"
                                        value="{{q.options[0].option}}">{{q.options[0].option}}</mat-radio-button>
                                </div>
                                <div class="col-md-12 mt10 ml10" *ngIf="q.options[1].option">
                                    <mat-radio-button name="name{{i}}"
                                        value="{{q.options[1].option}}">{{q.options[1].option}}</mat-radio-button>
                                </div>
                                <div class="col-md-12 mt10 ml10" *ngIf="q.options[2].option">
                                    <mat-radio-button name="name{{i}}"
                                        value="{{q.options[2].option}}">{{q.options[2].option}}</mat-radio-button>
                                </div>
                                <div class="col-md-12 mt10 ml10" *ngIf="q.options[3].option">
                                    <mat-radio-button name="name{{i}}"
                                        value="{{q.options[3].option}}">{{q.options[3].option}}</mat-radio-button>
                                </div>
                            </mat-radio-group>

                        </div>
                    </mat-card>
                    <div class="container text-center">
                        <button mat-raised-button color="primary" class="mt10 mb20" (click)="submitQuiz()">Save
                            Quiz</button>
                    </div>

                </ng-container>

            </div>
            <div class="col-md-2" >
                <div class="fixProgress">
                <mat-card style="margin-top: 50px;">
                    <mat-card-header>
                        <mat-card-title>Progress</mat-card-title>
                        <mat-card-subtitle>
                            The quiz will be automatically submitted when the time reaches <b>00:00</b>
                        </mat-card-subtitle>
                    </mat-card-header>
                    <h1>{{this.getFormatedTimer()}}</h1>
                    <mat-spinner 
                    mode = 'determinate'
                    [value]="(timer/(questions.length*120))*100"
                    style="margin: auto;">
                </mat-spinner>
                </mat-card>
                <!-- progress bar -->
            </div>
            </div>
        </div>
    </div>

</div>

<!-- Showing Result -->
<div class="bootstrap-wrapper" *ngIf="isSubmit">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-6 offset-md-3">
                <mat-card>
                    <mat-card-header>
                        <mat-card-title>
                            Quiz Result
                        </mat-card-title>
                    </mat-card-header>
                    <mat-card-content>
                        <h1> Full Marks : {{fullMarks}}</h1>
                        <h1> Total Marks :{{totalmarksGot}}</h1>
                        <h1> Total Questions : {{totalQuestions}}</h1>
                        <h1> Total Correct Answers :{{totalCorrectAnswer}}</h1>
                        <h1> Total Attempted Question : {{totalAttemptedQuestion}}</h1>
                        <h1> Not Visited Question : {{notVisited}}</h1>
                    </mat-card-content>
                    <mat-card-actions class=" text-center">


                        <button mat-raised-button color="accent">Print</button>
                        <button mat-raised-button color="primary" [routerLink]="'/user/0'">Home</button>
                    </mat-card-actions>
                </mat-card>
            </div>
        </div>
    </div>
</div>